“Trae，我想优化当前项目的审计工具。我已经写好了 audit.py 的基础逻辑，但我希望它能像之前的 analyzer.py 一样，不仅在终端输出结果，还能生成一个美观的 SEO_Audit_Report.html。

重构目标：

标准化数据流：无论脚本执行什么审计规则，所有的发现（Issues）必须统一存入一个列表。

集成报告引擎：请将下面这个通用的 generate_audit_html 函数整合进脚本。

逻辑触发：请重构 audit.py 的主逻辑，在审计结束后自动调用该函数生成 SEO_Audit_Report.html。

def generate_audit_html(audit_data):
    """
    通用审计报告生成引擎
    audit_data 格式: {
        'score': 85,
        'total_files': 100,
        'issues': [{'level': 'ERROR', 'message': '...', 'context': '...', 'penalty': -10}],
        'stats': {'ERROR': 5, 'WARN': 12}
    }
    """
    from datetime import datetime
    
    # 颜色映射
    score_color = "#2ecc71" if audit_data['score'] >= 90 else ("#f1c40f" if audit_data['score'] >= 70 else "#e74c3c")
    
    html_template = f"""
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Site Audit Report</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {{ background-color: #f8f9fa; font-family: 'Inter', sans-serif; }}
        .score-circle {{ width: 150px; height: 150px; border-radius: 50%; border: 10px solid {score_color}; 
                         display: flex; align-items: center; justify-content: center; margin: 0 auto; }}
        .card {{ border: none; box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075); border-radius: 12px; }}
        .level-ERROR {{ color: #e74c3c; font-weight: bold; }}
        .level-WARN {{ color: #f39c12; font-weight: bold; }}
        .sticky-top {{ top: 20px; }}
    </style>
</head>
<body>
<div class="container py-5">
    <div class="row mb-5">
        <div class="col-md-8">
            <h1 class="fw-bold"><i class="fas fa-microscope text-primary"></i> 站点健康审计报告</h1>
            <p class="text-muted">检测时间: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}</p>
        </div>
        <div class="col-md-4 text-center">
            <div class="score-circle"><h2 class="mb-0 fw-bold">{audit_data['score']}</h2></div>
            <p class="mt-2 text-muted fw-bold">最终评分</p>
        </div>
    </div>

    <div class="row g-4 mb-5">
        <div class="col-md-3">
            <div class="card p-3 text-center">
                <h6 class="text-muted">扫描文件</h6>
                <h3>{audit_data['total_files']}</h3>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card p-3 text-center border-start border-danger border-4">
                <h6 class="text-muted">错误 (Errors)</h6>
                <h3 class="text-danger">{audit_data['stats'].get('ERROR', 0)}</h3>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card p-3 text-center border-start border-warning border-4">
                <h6 class="text-muted">警告 (Warnings)</h6>
                <h3 class="text-warning">{audit_data['stats'].get('WARN', 0)}</h3>
            </div>
        </div>
    </div>

    <div class="card">
        <div class="card-header bg-white py-3 d-flex justify-content-between">
            <span class="fw-bold">详细问题清单</span>
            <input type="text" id="issueSearch" class="form-control form-control-sm w-25" placeholder="搜索问题或文件...">
        </div>
        <div class="table-responsive">
            <table class="table table-hover align-middle mb-0" id="issueTable">
                <thead class="table-light">
                    <tr>
                        <th>级别</th>
                        <th>类别/描述</th>
                        <th>位置 (Context)</th>
                    </tr>
                </thead>
                <tbody>
                    {"".join([f'''
                    <tr class="issue-row">
                        <td><span class="level-{{i['level']}}">{{i['level']}}</span></td>
                        <td>{{i['message']}}</td>
                        <td><code class="small text-muted">{{i['context']}}</code></td>
                    </tr>
                    ''' for i in audit_data['issues']])}
                </tbody>
            </table>
        </div>
    </div>
</div>
<script>
    document.getElementById('issueSearch').addEventListener('keyup', function() {{
        let filter = this.value.toLowerCase();
        let rows = document.querySelectorAll('.issue-row');
        rows.forEach(row => {{
            row.style.display = row.innerText.toLowerCase().includes(filter) ? "" : "none";
        }});
    }});
</script>
</body>
</html>
    """
    with open('Audit_Dashboard.html', 'w', encoding='utf-8') as f:
        f.write(html_template)
    print("✅ 审计可视化报告已生成: Audit_Dashboard.html")

重构要求： 请确保 audit.py 中原本的打印逻辑保留，但在最后增加这个 HTML 报告的输出。开始重构吧！